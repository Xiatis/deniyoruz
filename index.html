<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Our Clients Carousel</title>
<style>
  :root{
    --gap: clamp(22px, 3vw, 48px);
    --logo-h: clamp(28px, 4.2vw, 44px);
    --speed-left: 20s;
    --speed-right: 18s;
  }
  body{margin:0; font-family:sans-serif; background:#fff; color:#111;}
  h2{text-align:center; margin:20px 0 6px;}
  .sub{text-align:center; color:#666; margin:0 0 20px;}
  .track{
    overflow:hidden;
    --mask: linear-gradient(90deg, rgba(0,0,0,0) 0, #000 7%, #000 93%, rgba(0,0,0,0) 100%);
    -webkit-mask-image: var(--mask);
            mask-image: var(--mask);
    margin:12px 0;
  }
  .row{
    display:flex; align-items:center;
    gap:var(--gap);
    width:max-content;
    animation: scroll-left var(--speed-left) linear infinite;
  }
  .track--right .row{animation-name:scroll-right; animation-duration:var(--speed-right);}
  .item img{height:var(--logo-h); width:auto; display:block;}
  @keyframes scroll-left{from{transform:translateX(0);} to{transform:translateX(-50%);}}
  @keyframes scroll-right{from{transform:translateX(-50%);} to{transform:translateX(0);}}
</style>
</head>
<body>
  <h2>Our Clients</h2>
  <p class="sub">Forward-thinking brands that trust us</p>

  <div class="track track--left"><ul class="row" id="row1"></ul></div>
  <div class="track track--right"><ul class="row" id="row2"></ul></div>
  <div class="track track--left"><ul class="row" id="row3"></ul></div>

<script>
  // Listeyi DOM'a basan küçük yardımcı
  function fillRow(rowEl, list) {
    // Asıl liste
    list.forEach(file => {
      const li = document.createElement('li');
      li.className = 'item';
      const img = document.createElement('img');
      img.src = 'logos/' + file;
      img.alt = file.replace(/\.png$/i,'');
      li.appendChild(img);
      rowEl.appendChild(li);
    });
    // Kopya liste (sonsuz akış için)
    list.forEach(file => {
      const li = document.createElement('li');
      li.className = 'item';
      const img = document.createElement('img');
      img.src = 'logos/' + file;
      img.alt = '';
      li.appendChild(img);
      rowEl.appendChild(li);
    });
  }

  fetch('logos.json')
    .then(res => res.json())
    .then(all => {
      const row1 = document.getElementById('row1'); // üst (sola)
      const row2 = document.getElementById('row2'); // orta (sağa)
      const row3 = document.getElementById('row3'); // alt (sola)

      const n  = all.length;
      const a  = Math.ceil(n / 3);        // 1/3 sınırı
      const b  = Math.ceil((2 * n) / 3);  // 2/3 sınırı

      // 3 farklı parça (mümkün olduğunca eşit)
      const part1 = all.slice(0, a);
      const part2 = all.slice(a, b);
      const part3 = all.slice(b);

      // Eğer logo sayısı azsa, yedek plan: mod 3 ile dağıt (çakışmayı önler)
      const tooSmall = n < 9;
      if (tooSmall) {
        const p1 = [], p2 = [], p3 = [];
        all.forEach((f, i) => {
          (i % 3 === 0 ? p1 : (i % 3 === 1 ? p2 : p3)).push(f);
        });
        if (p1.length) { part1.splice(0, part1.length, ...p1); }
        if (p2.length) { part2.splice(0, part2.length, ...p2); }
        if (p3.length) { part3.splice(0, part3.length, ...p3); }
      }

      // Satırları doldur
      fillRow(row1, part1);
      fillRow(row2, part2);
      fillRow(row3, part3);

      // Her satır farklı bir noktadan başlasın (stagger)
      // Negatif delay, animasyonu ortasından başlatır.
      row1.style.animationDelay = '-2s';
      row2.style.animationDelay = '-8s';
      row3.style.animationDelay = '-14s';
    })
    .catch(err => console.error('Logolar yüklenemedi:', err));
</script>
</body>
</html>


